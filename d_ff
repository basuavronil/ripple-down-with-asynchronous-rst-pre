module d_ff(
  input clk, rst, pre, d,
  output reg q
  );
  always@(posedge clk or negedge rst or negedge pre) 
     begin
     if (!rst)
       q <= 1'b0;
     else if (!pre)
       q <= 1'b1;
     else 
       q <= d;
     end
endmodule
